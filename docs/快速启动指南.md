# MSHD 快速启动指南

## 🚀 5分钟快速上手

### 前置条件检查

确保你的环境中已安装：

```bash
# 检查 Java 版本 (需要17+)
java -version

# 检查 Node.js 版本 (需要18+)
node -v
npm -v

# 检查 MySQL (需要8.0+)
mysql --version
```

---

## 步骤1：克隆项目

```bash
# 进入项目目录
cd D:\Bupt\2025Autumn\SET\Project
```

---

## 步骤2：初始化数据库

### 2.1 创建数据库

```bash
# 登录MySQL
mysql -u root -p

# 在MySQL命令行中执行：
CREATE DATABASE mshd DEFAULT CHARACTER SET utf8mb4;
exit;
```

### 2.2 导入初始数据

```bash
# Windows
mysql -u root -p mshd < database\init.sql

# Linux/Mac
mysql -u root -p mshd < database/init.sql
```

验证导入：
```bash
mysql -u root -p mshd
mysql> SHOW TABLES;
mysql> SELECT COUNT(*) FROM disaster_data;
```

---

## 步骤3：启动后端

### 3.1 配置数据库连接

编辑 `mshd-backend\src\main\resources\application.yml`：

```yaml
spring:
  datasource:
    username: root          # 改为你的MySQL用户名
    password: root          # 改为你的MySQL密码
```

### 3.2 启动后端服务

**方式一：使用Maven**
```bash
cd mshd-backend
mvn spring-boot:run
```

**方式二：使用IDE**
1. 用IntelliJ IDEA或Eclipse打开 `mshd-backend` 项目
2. 运行 `MshdApplication.java`

**启动成功标志**：
```
==============================================
MSHD 多源异构灾情数据管理服务系统已启动
访问地址: http://localhost:8080/api
==============================================
```

**测试后端**：
```bash
# 浏览器访问或使用curl
curl http://localhost:8080/api/disaster/list
```

---

## 步骤4：启动前端

### 4.1 安装依赖

```bash
cd mshd-frontend
npm install
```

如果安装慢，可以使用国内镜像：
```bash
npm config set registry https://registry.npmmirror.com
npm install
```

### 4.2 启动开发服务器

```bash
npm run dev
```

**启动成功标志**：
```
  VITE v5.0.0  ready in 1234 ms

  ➜  Local:   http://localhost:3000/
  ➜  Network: use --host to expose
  ➜  press h + enter to show help
```

---

## 步骤5：访问系统

### 5.1 打开浏览器

访问：`http://localhost:3000`

### 5.2 登录系统

默认账号：
- 用户名：`admin`
- 密码：`admin123`

### 5.3 探索功能

- 📊 **数据概览** - 查看系统总览和统计信息
- 📋 **灾情数据** - 查看和管理灾情数据
- 🔧 **数据源** - 管理数据接入源
- 🔐 **数据编码** - 一体化编码管理
- 📈 **可视化** - 数据图表展示

---

## 常见问题

### ❌ 问题1：后端启动失败 - 数据库连接错误

**错误信息**：
```
Could not create connection to database server
```

**解决方案**：
1. 确认MySQL已启动：`sudo systemctl status mysql`
2. 检查用户名密码是否正确
3. 确认数据库 `mshd` 已创建

---

### ❌ 问题2：前端启动失败 - 端口被占用

**错误信息**：
```
Port 3000 is already in use
```

**解决方案**：
```bash
# 修改 vite.config.js 中的端口
server: {
  port: 3001  # 改为其他端口
}
```

---

### ❌ 问题3：前端无法访问后端API

**错误信息**：浏览器控制台显示网络错误

**解决方案**：
1. 确认后端已启动（访问 http://localhost:8080/api/disaster/list）
2. 检查 `vite.config.js` 中的代理配置
3. 清除浏览器缓存

---

### ❌ 问题4：Maven构建失败

**解决方案**：
```bash
# 清理并重新构建
mvn clean install -DskipTests

# 如果网络问题，配置阿里云镜像
# 编辑 ~/.m2/settings.xml 添加：
<mirror>
  <id>aliyunmaven</id>
  <mirrorOf>*</mirrorOf>
  <name>阿里云公共仓库</name>
  <url>https://maven.aliyun.com/repository/public</url>
</mirror>
```

---

## 下一步

### 🎯 学习建议

1. **了解编码规范** - 阅读 [README.md](../README.md) 中的编码说明
2. **测试API** - 使用Postman测试 [API文档](API文档.md) 中的接口
3. **自定义开发** - 根据需求扩展功能
4. **生产部署** - 参考 [部署指南](部署指南.md)

### 📚 相关文档

- [完整README](../README.md)
- [API接口文档](API文档.md)
- [部署指南](部署指南.md)
- [需求文档](../../../实验项目需求-MSHD2.0.pdf)
- [概要设计](../../../概要设计文档.pdf)

---

## 🆘 获取帮助

- **技术问题**：查看文档或提交Issue
- **功能建议**：欢迎提交功能需求
- **Bug反馈**：请详细描述复现步骤

---

**享受编码，祝你好运！** 🎉
